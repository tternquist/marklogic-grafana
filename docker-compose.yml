version: '3.6'
services:
  bootstrap:
    image: "${IMAGE}"
    container_name: ml
    hostname: ml-node-a.local
    restart: always
    environment:
      - MARKLOGIC_INIT=true
      - MARKLOGIC_ADMIN_USERNAME=admin
      - MARKLOGIC_ADMIN_PASSWORD=admin
      - TZ=America/New_York
    ports:
      - 7997-8070:7997-8070
    networks:
      - external_net
      - internal_net
    volumes:
      - type: volume
        source: marklogic_data
        target: /var/opt/MarkLogic
networks:
  external_net: {}
  internal_net:
    internal: true

volumes:
  marklogic_data:
